{
  "id": "kadanesAlgorithm",
  "name": "Kadane’s Algorithm",
  "description": "Find the maximum subarray sum in linear time using a running best.",
  "difficulty": "Medium",
  "leetcode": "https://leetcode.com/problems/maximum-subarray/",
  "overview": {
    "what": "Kadane’s keeps a current running sum and resets when it hurts the total.",
    "when": "Use when you need the max sum of any contiguous subarray.",
    "complexity": "Time: O(n) | Space: O(1)"
  },
  "detect": "Find maximum subarray sum; contiguous and can include negatives.",
  "mistakes": [
    "Resetting to 0 instead of current element when cur+arr[i] is worse",
    "Not initializing best/cur with first element",
    "Assuming empty subarray is allowed when negatives exist"
  ],
  "tips": "Initialize with first element. At each step, cur = max(arr[i], cur+arr[i]); best = max(best, cur).",
  "problems": [
    { "title": "Maximum Subarray (LC 53)", "link": "https://leetcode.com/problems/maximum-subarray/", "difficulty": "Easy" },
    { "title": "Maximum Sum Circular Subarray (LC 918)", "link": "https://leetcode.com/problems/maximum-sum-circular-subarray/", "difficulty": "Hard" },
    { "title": "Best Time to Buy and Sell Stock (LC 121)", "link": "https://leetcode.com/problems/best-time-to-buy-and-sell-stock/", "difficulty": "Easy" }
  ],
  "postQuestion": { "question": "Kadane's should initialize best with:", "options": ["0", "First element", "Infinity"], "correct": 1 },
  "video": "https://www.youtube.com/watch?v=86CQq3pKSUw",
  "defaultInputs": {
    "array": "[-2, 1, -3, 4, -1, 2, 1, -5, 4]"
  },
  "codeByLanguage": {
    "javascript": [
      { "line": 0, "code": "function kadane(arr) {" },
      { "line": 1, "code": "  let best = arr[0];" },
      { "line": 2, "code": "  let cur = arr[0];" },
      { "line": 3, "code": "  for (let i = 1; i < arr.length; i++) {" },
      { "line": 4, "code": "    cur = Math.max(arr[i], cur + arr[i]);" },
      { "line": 5, "code": "    best = Math.max(best, cur);" },
      { "line": 6, "code": "  }" },
      { "line": 7, "code": "  return best;" },
      { "line": 8, "code": "}" }
    ],
    "python": [
      { "line": 0, "code": "def kadane(arr):" },
      { "line": 1, "code": "    best = arr[0]" },
      { "line": 2, "code": "    cur = arr[0]" },
      { "line": 3, "code": "    for i in range(1, len(arr)):" },
      { "line": 4, "code": "        cur = max(arr[i], cur + arr[i])" },
      { "line": 5, "code": "        best = max(best, cur)" },
      { "line": 6, "code": "    return best" }
    ]
  },
  "quiz": [
    { "question": "Kadane’s updates cur as:", "options": ["cur + arr[i]", "max(arr[i], cur + arr[i])", "arr[i] only"], "correct": 1, "explanation": "Choose between extending or restarting." },
    { "question": "Initialization uses:", "options": ["0", "First element", "Infinity"], "correct": 1, "explanation": "Seed with first element to handle all-negative arrays." },
    { "question": "Time complexity:", "options": ["O(n)", "O(n log n)", "O(n^2)"], "correct": 0, "explanation": "Single pass." }
  ],
  "codeSteps": [
    { "line": 0, "code": "function kadane(arr) {" },
    { "line": 1, "code": "  let best = arr[0];" },
    { "line": 2, "code": "  let cur = arr[0];" },
    { "line": 3, "code": "  for (let i = 1; i < arr.length; i++) {" },
    { "line": 4, "code": "    cur = Math.max(arr[i], cur + arr[i]);" },
    { "line": 5, "code": "    best = Math.max(best, cur);" },
    { "line": 6, "code": "  }" },
    { "line": 7, "code": "  return best;" },
    { "line": 8, "code": "}" }
  ],
  "steps": [
    { "step": 0, "popup": "Seed Values", "reason": "Start best and current with the first element." },
    { "step": 1, "popup": "Iterate Array", "reason": "Walk through each remaining value." },
    { "step": 2, "popup": "Extend or Restart", "reason": "Either continue the subarray or restart at current element." },
    { "step": 3, "popup": "Update Best", "reason": "Track the global maximum subarray sum found so far." },
    { "step": 4, "popup": "Return Answer", "reason": "After the loop, best holds the max subarray sum." }
  ]
}
