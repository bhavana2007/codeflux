{
  "id": "prefixSum",
  "name": "Prefix Sum",
  "description": "Precompute cumulative sums so subarray queries become O(1).",
  "difficulty": "Easy",
  "leetcode": "https://leetcode.com/problems/range-sum-query-immutable/",
  "overview": {
    "what": "Prefix sums store running totals so you can subtract two indices to get any range sum quickly.",
    "when": "Use when there are many range-sum queries over a static array.",
    "complexity": "Time: O(n) preprocess + O(1) per query | Space: O(n)"
  },
  "defaultInputs": {
    "array": "[1, 2, 3, 4, 5]",
    "queryRange": "[1, 3]"
  },
  "codeSteps": [
    { "line": 0, "code": "function prefixSum(arr) {" },
    { "line": 1, "code": "  const pref = Array(arr.length + 1).fill(0);" },
    { "line": 2, "code": "  for (let i = 1; i < pref.length; i++) {" },
    { "line": 3, "code": "    pref[i] = pref[i - 1] + arr[i - 1];" },
    { "line": 4, "code": "  }" },
    { "line": 5, "code": "  const [l, r] = [1, 3];" },
    { "line": 6, "code": "  return pref[r + 1] - pref[l];" },
    { "line": 7, "code": "}" }
  ],
  "steps": [
    { "step": 0, "popup": "Create Prefix Array", "reason": "Allocate an extra slot (length + 1) to simplify math." },
    { "step": 1, "popup": "Initialize Zeros", "reason": "Start with all zeros; pref[0] is the neutral base." },
    { "step": 2, "popup": "Iterate Elements", "reason": "Walk through the array once to accumulate sums." },
    { "step": 3, "popup": "Build Running Total", "reason": "Each prefix is previous total plus current element." },
    { "step": 4, "popup": "Finish Preprocess", "reason": "We now have prefix sums for every index." },
    { "step": 5, "popup": "Read Query Range", "reason": "Take left/right bounds for the subarray sum." },
    { "step": 6, "popup": "Compute Range Sum", "reason": "Subtract prefix values to get constant-time answer." }
  ]
}
